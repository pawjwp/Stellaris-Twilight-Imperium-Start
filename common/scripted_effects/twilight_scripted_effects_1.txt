add_generator_deposits = {
	if = {
		limit = {
			OR = {
				is_planet_class = pc_continental
				is_planet_class = pc_tropical
			}
		}

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_rushing_waterfalls
		add_deposit = d_tempestous_mountain
	}

	if = {
		limit = {
			is_planet_class = pc_ocean
		}

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_rushing_waterfalls
		add_deposit = d_underwater_vent
	}

	if = {
		limit = {
			OR = {
				is_planet_class = pc_arctic
				is_planet_class = pc_tundra
			}
		}

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_frozen_gas_lake
		add_deposit = d_geothermal_vent
	}

	if = {
		limit = {
			is_planet_class = pc_alpine
		}

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_frozen_gas_lake
		add_deposit = d_tempestous_mountain
	}

	if = {
		limit = {
			OR = {
				is_planet_class = pc_desert
				is_planet_class = pc_arid
				is_planet_class = pc_savannah
			}
		}

		# 3 + 3 energy
		add_deposit = d_arid_highlands
		add_deposit = d_searing_desert
		add_deposit = d_geothermal_vent
	}

	if = {
		limit = {
			is_planet_class = pc_nuked
		}

		# 3 + 3 energy
		add_deposit = d_hot_springs
		add_deposit = d_searing_desert
		add_deposit = d_underwater_vent
	}
}


add_mining_deposits = {
	if = {
		limit = {
			is_planet_class = pc_continental
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_prosperous_mesa
		add_deposit = d_rich_mountain
	}

	if = {
		limit = {
			OR = {
				is_planet_class = pc_tropical
				is_planet_class = pc_savannah
			}
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_prosperous_mesa
		add_deposit = d_submerged_ore_veins
	}

	if = {
		limit = {
			is_planet_class = pc_ocean
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_ore_rich_caverns
		add_deposit = d_submerged_ore_veins
	}

	if = {
		limit = {
			OR = {
				is_planet_class = pc_arctic
				is_planet_class = pc_alpine
				is_planet_class = pc_arid
			}
		}

		# 3 + 3 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain
	}

	if = {
		limit = {
			OR = {
				is_planet_class = pc_tundra
				is_planet_class = pc_desert
			}
		}

		# 3 + 3 mining
		add_deposit = d_mineral_fields
		add_deposit = d_ore_rich_caverns
		add_deposit = d_rich_mountain
	}

	if = {
		limit = {
			is_planet_class = pc_nuked
		}

		# 3 + 4 mining
		add_deposit = d_veiny_cliffs
		add_deposit = d_ore_rich_caverns
		add_deposit = d_submerged_ore_veins
	}
}


add_farming_deposits = {
	if = {
		limit = {
			is_planet_class = pc_continental
		}

		# 4 + 3 farming
		add_deposit = d_rugged_woods
		add_deposit = d_fertile_lands
		add_deposit = d_rugged_woods
		add_deposit = d_black_soil
	}

	if = {
		limit = {
			is_planet_class = pc_tropical
		}

		# 4 + 3 farming
		add_deposit = d_green_hills
		add_deposit = d_lush_jungle
		add_deposit = d_green_hills
		add_deposit = d_tropical_island
	}

	if = {
		limit = {
			is_planet_class = pc_ocean
		}

		# 4 + 3 farming
		add_deposit = d_green_hills
		add_deposit = d_lush_jungle
		add_deposit = d_green_hills
		add_deposit = d_teeming_reef
	}

	if = {
		limit = {
			is_planet_class = pc_arctic
		}

		# 4 + 3 farming
		add_deposit = d_lichen_fields
		add_deposit = d_fungal_caves
		add_deposit = d_lichen_fields
		add_deposit = d_fungal_forest
	}

	if = {
		limit = {
			OR = {
				is_planet_class = pc_tundra
				is_planet_class = pc_alpine
			}
		}

		# 4 + 3 farming
		add_deposit = d_forgiving_tundra
		add_deposit = d_fungal_caves
		add_deposit = d_forgiving_tundra
		add_deposit = d_fungal_forest
	}

	if = {
		limit = {
			is_planet_class = pc_desert
		}

		# 4 + 3 farming
		add_deposit = d_nutritious_mudland
		add_deposit = d_great_river
		add_deposit = d_nutritious_mudland
		add_deposit = d_marvelous_oasis
	}

	if = {
		limit = {
			is_planet_class = pc_arid
		}

		# 4 + 3 farming
		add_deposit = d_bountiful_plains
		add_deposit = d_great_river
		add_deposit = d_bountiful_plains
		add_deposit = d_tropical_island
	}

	if = {
		limit = {
			is_planet_class = pc_savannah
		}

		# 4 + 3 farming
		add_deposit = d_bountiful_plains
		add_deposit = d_fertile_lands
		add_deposit = d_bountiful_plains
		add_deposit = d_black_soil
	}

	if = {
		limit = {
			is_planet_class = pc_nuked
		}

		# 3 + 2 farming
		add_deposit = d_lichen_fields
		add_deposit = d_fungal_caves
		add_deposit = d_fungal_forest
	}
}



remove_generator_deposits = {
	while = {
		count = 2
		random_deposit = {
			limit = { has_deposit_category = deposit_cat_energy }
			remove_deposit = yes
		}
	}
}


remove_mining_deposits = {
	while = {
		count = 2
		random_deposit = {
			limit = { has_deposit_category = deposit_cat_minerals }
			remove_deposit = yes
		}
	}
}


remove_farming_deposits = {
	while = {
		count = 2
		random_deposit = {
			limit = { has_deposit_category = deposit_cat_food }
			remove_deposit = yes
		}
	}
}


spawn_orbital_ring_effect = {
	set_planet_flag = has_megastructure
    save_event_target_as = orbital_ring_planet
    create_starbase = {
        size = orbital_ring_tier_1
        owner = FROM
        effect = { }
    }
}


create_ti_empires = {
	create_arborec = yes
	create_argent_flight = yes
	create_creuss = yes
	create_hacan = yes
	create_l1x1z = yes
	create_letnev = yes
	create_muaat = yes
	create_mentak = yes
	create_naalu = yes
	create_nekro = yes
	create_naaz_rokha = yes
	create_nomad = yes
	create_saar = yes
	create_sardakk = yes
	create_sol = yes
	create_titans = yes
	create_winnu = yes
	create_xxcha = yes
	create_yin = yes
	create_yssaril = yes
}


create_arborec = {

}

create_argent_flight = {
	create_species = {
		class = AVI
		portrait = avi11
		name = "Shikrai"
		plural = "Shikrai"
		adjective = "Shikrai"
		namelist = MAM2
		traits = {
			ideal_planet_class = pc_tropical
			trait = trait_traditional
			trait = trait_nomadic
		}
		homeworld = this
	}
	last_created_species = { save_global_event_target_as = argent_flight_species }
	create_country = {
		type = default
		ignore_initial_colony_error = yes
		name_list = MAM2

		name = "The Argent Flight"
		adjective = "Argent Flight"
		authority = auth_democratic

		effect = {
			set_graphical_culture = avian_01
			set_city_graphical_culture = avian_01
		}

		flag = {
			icon = {
				category = "lithoid"
				file = "lithoid_03.dds"
			}
			background= {
				category = backgrounds
				file = "flag_BG_45.dds"
			}
			colors = {
				"dark_teal"
				"orange"
				"black"
				"null"
			}
		}

		effect = {
			set_male_ruler_title = "Speaker of the Murmuration"
			set_female_ruler_title = "Speaker of the Murmuration"
		}

		ethos = {
			ethic = ethic_egalitarian
			ethic = ethic_fanatic_militarist
		}
		civics = {
			civic = civic_citizen_service
			civic = civic_memorialist
		}
		origin = origin_default
		
		species = event_target:argent_flight_species
		effect = {
			save_global_event_target_as = argent_flight
			set_country_flag = ti_argent_flight
			species = {
				save_global_event_target_as = argent_flight_species
			}
			add_resource = {
				minerals = 100
				energy = 100
				alloys = 100
				consumer_goods = 100
				influence = 100
			}
		}
	}
	generate_start_deposits_and_blockers = yes
	clear_blockers = yes
	generate_start_buildings_and_districts = yes
	generate_start_pops = yes
	event_target:argent_flight = {
		country_event = { id = game_start.9 }
		country_event = { id = game_start.33 days = 1 } # needs delay for system ownership to settle
	}
	solar_system = {
		create_starbase = {
			size = starbase_starport
			module = trading_hub
			module = shipyard
			building = crew_quarters
			owner = event_target:argent_flight
		}
	}
}

create_creuss = {
	
}

create_hacan = {
	
}

create_l1x1z = {
	
}

create_letnev = {
	
}

create_muaat = {
	
}

create_mentak = {
	
}

create_naalu = {
	
}

create_nekro = {
	
}

create_naaz_rokha = {
	
}

create_nomad = {
	
}

create_saar = {
	
}

create_sardakk = {
	
}

create_sol = {
	
}

create_titans = {
	
}

create_winnu = {
	
}

create_xxcha = {
	
}

create_yin = {
	
}

create_yssaril = {
	
}